{"version":3,"sources":["Components/Material/Styles.module.css","Components/BreadCrumbs/Item.js","Components/BreadCrumbs/index.js","utils/ajax.js","Pages/Projects/List.js","Pages/Projects/Create.jsx","utils/tree.js","Components/Material/Variables.js","Components/Material/Card/index.jsx","Components/Material/Form/FormRow.jsx","Components/Material/Form/FormLabel.jsx","Components/Material/Form/Inputs/Text.jsx","Components/Material/Buttons/index.jsx","Components/Material/Form/Inputs/Select.jsx","Components/VideoTree/NodeExpansion.js","Components/VideoTree/VideoTree.js","Pages/Projects/Edit.js","utils/utils.js","Pages/Projects/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","elevation1","Item","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","editing","name","toggleEditing","bind","assertThisInitialized","updateName","doneEditing","setState","e","objectSpread","target","value","edit","prevProps","prevState","snapshot","_this$props","path","react_default","a","createElement","Fragment","onChange","onClick","react_router_dom","to","style","textTransform","React","Component","BreadCrumbs","console","log","links","map","l","i","key","float","listStyle","padding","BreadCrumbs_Item","undefined","ajax","get","url","urlencode","arguments","length","send","post","data","put","delete","requestType","qs","stringify","Promise","resolve","reject","axios","defaults","headers","token","document","querySelector","getAttribute","withCredentials","toLowerCase","then","response","catch","error","status","window","location","href","validationErrors","errors","request","message","config","List","redirectToCreate","projects","deleteProject","id","Ajax","concat","match","err","filter","p","_this2","res","_this3","className","Components_BreadCrumbs","react_router","clear","title","Create","redirectToEdit","handleChange","createProject","project","type","buildStructure","flat","result","item","parent_id","nodes","getRoot","getNodes","parentId","push","sort","b","Colors","defaultLight","default","defaultDarker","defaultDark","primaryLight","primary","primaryDarker","secondary","Card","styled","div","_templateObject","position","top","bottom","left","right","width","margin","zIndex","CardContent","_templateObject2","CardActions","_templateObject3","FormRow","FormRow_templateObject","marginBottom","Label","label","FormLabel_templateObject","color","small","LabelRow","FormLabel_templateObject2","Input","input","Text_templateObject","TextInputWithLabel","_React$Component","defaultColor","defaultBorderStyle","activeColor","labelColor","borderStyle","showLabel","handleFocus","handleBlur","inherits","createClass","placeholder","Form_FormRow","spellcheck","borderBottom","onFocus","onBlur","BaseButton","button","Buttons_templateObject","Button","Btn","variant","Buttons_templateObject2","Buttons_templateObject3","size","_templateObject4","children","Select","select","Select_templateObject","SelectWithLabel","selected","items","NodeExpansion","interactorTypes","node","interactor","enabled","updateNode","toggleInteractor","changeParent","preventDefault","Styles","Text_TextInputWithLabel","Select_SelectWithLabel","Buttons_Button","closeNodeExpansion","VideoTree","expandNode","toggleExpandNode","availableParents","createNode","deleteNode","nodeId","stopPropagation","tree","nodeIds","flattenStructure","n","indexOf","setTimeout","_","nodesKey","nodeInactiveClass","parent","VideoTree_NodeExpansion","buildTree","Edit","settings","random","editProjectTitle","min","max","Math","ceil","floor","params","JSON","parse","toConsumableArray","newTitle","process","Components_VideoTree_VideoTree","src","allow","Projects","_ref","exact","component","App","render","Boolean","hostname","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.55e82474.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"elevation1\":\"Styles_elevation1___jDDn\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nclass Item extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            editing: false,\n            name: '',\n        };\n\n        this.toggleEditing = this.toggleEditing.bind(this);\n        this.updateName = this.updateName.bind(this);\n        this.doneEditing = this.doneEditing.bind(this);\n    }\n\n    toggleEditing() {\n        const editing = !this.state.editing;\n        this.setState({editing});\n    }\n\n    updateName(e) {\n        let state = {...this.state};\n        state.name = e.target.value;\n        this.setState(state);\n    }\n\n    doneEditing() {\n        let state = {...this.state};\n        state.editing = false;\n        this.props.edit(this.state.name);\n        this.setState(state);\n    }\n\n    componentDidMount() {\n        \n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.name !== this.props.name) {\n            let state = {...this.state};\n            state.name = this.props.name;\n            this.setState(state);\n        }\n    }\n\n    render() {\n        const { path, name } = this.props;\n\n        return (\n            <>\n                {\n                    this.state.editing && this.props.edit\n                        ?   <>\n                                <input value={this.state.name} onChange={this.updateName} />\n                                <button onClick={this.doneEditing}>done</button>\n                            </>\n                        :   <>\n                                <Link to={path} style={{textTransform: 'capitalize'}}>{name}</Link>\n                                {this.props.edit ? <button onClick={this.toggleEditing}>edit</button> : ''}\n                            </>\n                }\n                \n            </>\n        );\n    }\n}\n\nItem.propTypes = {\n    path: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    edit: PropTypes.func,\n}\n\nexport default Item;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Item from './Item';\n\nfunction BreadCrumbs(props) {\n\n    console.log(props);\n    return (\n        <ul>\n            {\n                props.links.map((l, i) => (\n                    <li key={i} style={{float: 'left', listStyle: 'none', padding: '5px'}}>\n                        <Item path={l.path} name={l.name} edit={l.edit ? l.edit : undefined } />\n                    </li>\n                ))\n            }\n        </ul>\n    );\n    \n}\n\nBreadCrumbs.propTypes = {\n    links: PropTypes.array.isRequired,\n}\n\nexport default BreadCrumbs;","import axios from 'axios';\nimport qs from 'qs';\n\n\nexport default {\n\n\t/**\n\t * Send a Get request.\n\t *\n\t * @param {object} data\n\t */\n\tget(url, urlencode=true) {\n\t\treturn this.send( url, 'get', {}, urlencode);\n\t},\n\n\t/**\n\t * Send a POST request.\n\t *\n\t * @param {object} data\n\t */\n\tpost(url, data, urlencode=true ) {\n\t\treturn this.send(url, 'post', data, urlencode);\n\t},\n\n\t/**\n\t * Send a PUT request.\n\t *\n\t * @param {object} data\n\t */\n\tput(url, data, urlencode=true ) {\n\t\treturn this.send(url, 'put', data, urlencode);\n\t},\n\n\t/**\n\t * Send a DELETE request.\n\t *\n\t * @param {object} data\n\t */\n\tdelete(url, data, urlencode=true ) {\n\t\treturn this.send(url, 'delete', data, urlencode);\n\t\t// Note: When sending 'params' instead of data, Axios will add ?id=177 to this.url. (If you data is {id: 177}).\n\t\t// And then if using Express you can get the params in the query (req.query.id).\n\t},\n\n\tsend( url, requestType, data={}, urlencode=true ) {\n\n\t\tif ( data.length > 0 && urlencode === true) {\n\t\t\tdata = qs.stringify(data);\n\t\t}\n\n\t\treturn new Promise(\n\t\t\t( resolve, reject ) => {\n\t\t\t\taxios.defaults.headers['X-Requested-With'] = 'XMLHttpRequest'; // Tell server that this is a ajax request.\n\t\t\t\tconst token = document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content');\n\t\t\t\tif (token) {\n\t\t\t\t\taxios.defaults.headers['CSRF-Token'] = token;\n\t\t\t\t}\n\t\t\t\taxios.defaults.withCredentials = true; // Send cookie to server.\n\t\t\t\taxios[ requestType.toLowerCase() ]( url, data )\n\t\t\t\t\t.then(response => resolve(response.data))\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tif (error.response) {\n\t\t\t\t\t\t\t// The request was made and the server responded with a status code\n\t\t\t\t\t\t\t// that falls out of the range of 2xx\n\t\t\t\t\t\t\t// console.log(error.response.data);\n\t\t\t\t\t\t\t// console.log(error.response.status);\n\t\t\t\t\t\t\t// console.log(error.response.headers);\n\n\t\t\t\t\t\t\t// If server session expired then just redirect to login page.\n\t\t\t\t\t\t\tconst status = error.response.status;\n\t\t\t\t\t\t\tif ( status === 401 || status === 403 || status === 419) {\n\t\t\t\t\t\t\t\tconsole.log('Ajax error: ', error);\n\t\t\t\t\t\t\t\twindow.location.href = '/login';\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else if (status === 422) {\n\t\t\t\t\t\t\t\treject( {validationErrors: error.response.data.errors});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treject( error.response.data );\n\t\t\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\t\t} else if (error.request) {\n\t\t\t\t\t\t// The request was made but no response was received\n\t\t\t\t\t\t// `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n\t\t\t\t\t\t// http.ClientRequest in node.js\n\t\t\t\t\t\tconsole.log(error.request);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t// Something happened in setting up the request that triggered an Error\n\t\t\t\t\t\tconsole.log('Error', error.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log(error.config);\n\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t});\n\t},\n};\n","import React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport BreadCrumbs from '../../Components/BreadCrumbs';\nimport Ajax from '../../utils/ajax';\nimport { isDev } from '../../utils/env';\n\nclass List extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            redirectToCreate: false,\n            projects: [],\n        }\n\n        this.redirectToCreate = this.redirectToCreate.bind(this);\n        this.deleteProject = this.deleteProject.bind(this);\n    }\n\n    redirectToCreate() {\n        this.setState({redirectToCreate: true});\n    }\n\n    deleteProject(id) {\n        if (!isDev()) {\n            Ajax.delete(`${this.props.match.url}/${id}`)\n                .catch(err => console.error(err));\n        }\n\n        this.setState({projects: this.state.projects.filter(p => p.id !== id)});\n    }\n\n    componentDidMount() {\n        const url = process.env.NODE_ENV === 'development' ? `${process.env.PUBLIC_URL}/data/projects.json` : this.props.match.path;\n         \n        Ajax.get(url)\n            .then(res => {\n                console.log(res);\n                if (typeof res.projects !== undefined) {\n                    this.setState({projects: res.projects});\n                }\n            })\n            .catch(err => console.error(err));\n    }\n\n    render() {\n        const { match } = this.props;\n        return (\n             <div className=\"grid-wrapper\">\n                <div className=\"topnav-area\"></div>\n                <div className=\"sidebar-area\">\n                    <ul>\n                        <li>item 1</li>\n                        <li>item 1</li>\n                        <li>item 1</li>\n                        <li>item 1</li>\n\n                    </ul>\n                \n                </div>\n                <div className=\"breadcrumbs-area\" >\n                    <BreadCrumbs links={[{ name: 'projects', path: '/projects'}]}/>\n                </div>\n                <div className=\"content-area\">\n                    <button onClick={this.redirectToCreate}>New Project</button>\n                    { this.state.redirectToCreate ? <Redirect to={`${match.path}/create`} /> : '' }\n                    <ul style={{clear: 'both'}}>\n                        {\n                            this.state.projects.map(p => (\n                                <li key={p.id}><Link to={`${match.url}/${p.id}`} >{p.title}</Link><button onClick={() => this.deleteProject(p.id)}>delete</button></li>\n                            ))\n                        }\n                    </ul>\n                </div>\n            </div>\n        );    \n    }\n    \n}\n\nexport default List;","import React from 'react';\nimport BreadCrumbs from '../../Components/BreadCrumbs';\nimport { Redirect } from 'react-router-dom';\nimport Ajax from '../../utils/ajax';\n\nclass Create extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            id: 0,\n            title: '',\n            redirectToEdit: false,\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.createProject = this.createProject.bind(this);\n    }\n\n    handleChange(e) {\n        let state = {...this.state};\n        // only have a title at this time\n        state.title = e.target.value;\n        this.setState(state);\n    }\n\n    createProject() {\n\n        if (process.env.NODE_ENV === 'development') {\n            let state = {...this.state};\n            state.id = 123;\n            state.redirectToEdit = true;\n            this.setState(state);    \n            return;\n        }\n\n        Ajax.post('/projects', {title: this.state.title})\n        .then(res => {\n            console.log(res);\n            if (typeof res.project.id !== 'undefined') {\n                let state = {...this.state};\n                state.id = res.project.id;\n                state.redirectToEdit = true;\n                this.setState(state);    \n            }\n            \n        })\n        .catch(err => console.error(err));\n        \n    }\n\n    render() {\n        const links = [\n            { name: 'projects', path: '/projects'},\n            { name: 'create', path: '/projects/create'},\n        ];\n        return (\n            <>\n                <BreadCrumbs links={links}/>\n                <div>\n                    <input onChange={this.handleChange} type=\"text\" value={this.state.title} />\n                    <button onClick={this.createProject}>Create</button>\n                </div>\n                {\n                    this.state.redirectToEdit ? <Redirect to={`/projects/${this.state.id}`} /> : ''\n                }\n            </>\n        );\n    }\n}\n\nexport default Create;","function getRoot(flat) {\n    \n  for (let i = 0; i < flat.length; i++) {\n      let item = {...flat[i]};\n      if (item.parent_id === 0) {\n          item.nodes = [];\n          return item;\n      }\n  }\n\n  return {};\n}\n\nfunction getNodes(parentId, flat) {\n  let nodes = [];\n  for (let i = 0; i < flat.length; i++) {\n      let item = {...flat[i]};\n      if (item.parent_id === parentId) {\n          item.nodes = getNodes(item.id, flat);\n          nodes.push(item);\n      }\n  }\n  nodes.sort((a,b) => a.id -  b.id);\n  return nodes;\n}\n\nexport const buildStructure = function(flat) {\n  \n  let result = getRoot(flat);\n  if (result.length === 0) {\n      return result;\n  }\n\n  result.nodes = getNodes(result.id, flat)\n\n  return result;\n};\n\nexport const flattenStructure = function(tree) {\n\n  let nodes = [];\n  let node = {\n      id: tree.id,\n      parent_id: tree.parent_id,\n      title: tree.title,\n      url: tree.url,\n  };\n  nodes.push(node);\n\n  if (typeof tree.nodes !== 'undefined' && tree.nodes.length > 0) {\n      for (let i=0; i < tree.nodes.length; i++) {\n          const result = flattenStructure(tree.nodes[i]);\n          for (let i=0; i < result.length; i++) {\n              nodes.push(result[i]);\n          }\n      }\n  }\n\n  nodes = nodes.sort((a,b) => a.id - b.id);\n  return nodes;\n}\n\nexport const findNodeById = function(nodes, id) {\n    const filtered = nodes.filter(n => n.id === id);\n    return filtered.length > 0 ? filtered[0] : null;\n}","\n\n// TODO these are just junk colors for protopying, make sure to research proper color palette.\nexport const Colors = {\n    defaultLight: 'rgba(185, 185, 185, 0.2)',\n    default: '#969696',\n    defaultDarker: '#787777',\n    defaultDark: '#383838',\n    primaryLight: 'rgba(25, 118, 210, 0.1)',\n    primary: 'rgb(25, 118, 210)',\n    primaryDarker: '#125aa1',\n    secondary: 'pink',\n};","import React from 'react';\nimport Styles from '../Styles.module.css';\nimport styled from 'styled-components';\nimport { Colors } from '../Variables';\n\nexport const Card = styled.div`\n    ${props => props.position ? `position: ${props.position}` : '' }\n    ${props => props.top ? `top: ${props.top}` : '' }\n    ${props => props.bottom ? `bottom: ${props.bottom}` : '' }\n    ${props => props.left ? `left: ${props.left}` : '' }\n    ${props => props.right ? `right: ${props.right}` : '' }\n    display: flex;\n    flex-direction: column;\n    width: ${props => props.width ? props.width : '250px'};\n    height: auto;\n    background: white;\n    border: none;\n    border-radius: 4px;\n    margin: ${props => props.margin ? props.margin : 'auto'};\n    ${props => props.zIndex ? `z-index: ${props.zIndex}` : '' }\n    @media (min-width: 768px) {\n        width: 400px;\n    }\n`;\n\nexport const CardContent = styled.div`\n    width: 100%;\n    padding: ${props => props.padding ? props.padding : '1rem'};\n`;\n\nexport const CardActions = styled.div`\n    display: flex;\n    width: 100%;\n    padding: ${props => props.padding ? props.padding : '0.5rem'};\n`;","import React from 'react';\nimport styled from 'styled-components';\n\nconst FormRow = styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin-top: 0;\n    margin-right: 0;\n    margin-bottom: ${props => props.marginBottom ? props.marginBottom : '15px'};\n    margin-left: 0;\n`;\n\nexport default FormRow;","import React from 'react';\nimport styled from 'styled-components';\n\nconst Label = styled.label`\n    color: ${props => props.color ? props.color : 'inherit'};\n    font-size: ${props => props.small ? \"0.75rem\" : \"1rem\"};\n    letter-spacing: 0.033rem;\n    text-transform: capitalize;\n`;\n\nconst LabelRow = styled.div`\n    width: 100%;\n    display: flex;\n    justify-content: flex-start;\n`;\n\nexport { Label, LabelRow };","import React from 'react';\nimport styled from 'styled-components';\nimport { Colors } from '../../Variables';\nimport FormRow from '../FormRow';\nimport { Label, LabelRow } from '../FormLabel';\n\n\nconst Input = styled.input`\n    width: ${props => props.width ? props.width : '100%'};\n    color: ${Colors.defaultDark};\n    padding: 6px 5px 6px 1px;\n    border: none;\n    border-bottom: 1px solid ${Colors.default};\n    outline: none;\n`;\n\n\n\nexport class TextInputWithLabel extends React.Component {\n\n    defaultColor = Colors.default;\n    defaultBorderStyle = `1px solid ${Colors.default}`;\n    activeColor = Colors.primary;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            labelColor: this.defaultColor,\n            borderStyle: this.defaultBorderStyle,\n            showLabel: false,\n        }\n\n        this.handleFocus = this.handleFocus.bind(this);\n        this.handleBlur = this.handleBlur.bind(this);\n    }\n\n    handleFocus() {\n        let state = {...this.state};\n        state.labelColor = this.activeColor;\n        state.borderStyle = `2px solid ${this.activeColor}`;\n        state.showLabel = true;\n        this.setState(state);\n    }\n\n    handleBlur() {\n        let state = {...this.state};\n        state.labelColor = this.defaultColor;\n        state.borderStyle = this.defaultBorderStyle;\n        state.showLabel = false;\n        this.setState(state);\n    }\n\n    render() {\n        // const props = this.props;\n        const { name, value, label } = this.props;\n        const placeholder = this.state.showLabel ? '' : label;\n        return (\n            <FormRow marginBottom={this.props.marginBottom}>\n                {\n                    value || this.state.showLabel\n                        ? \n                            <LabelRow>\n                                <Label small color={this.state.labelColor}>{label}</Label> \n                            </LabelRow>\n                        : ''\n                }\n                <Input\n                    type=\"text\"\n                    name={name}\n                    value={value}\n                    placeholder={placeholder}\n                    spellcheck={() => this.props.spellcheck ? this.props.spellcheck : 'true' }\n                    width={this.props.width}\n                    style={{borderBottom: this.state.borderStyle}}\n                    onChange={this.props.onChange} \n                    onFocus={this.handleFocus}\n                    onBlur={this.handleBlur}\n                />\n            </FormRow>\n        );\n    }\n};","import React from 'react';\nimport styled from 'styled-components';\nimport { Colors } from '../Variables';\n\nconst BaseButton = styled.button`\n    min-width: 64px;\n    box-sizing: border-box;\n    font-size: 0.875rem;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 0.05rem;\n    color: ${props => props.color ? '#fff' : 'rgba(0, 0, 0, .85)'};\n    transition: color 0.5s ease;\n    background-color: ${props => props.color ? Colors[props.color] : Colors.default};\n    transition: background-color 0.5s ease;\n    padding: 10px;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    outline: none;\n\n    &:hover {\n        background-color: ${Colors.primaryDarker};\n    }\n`;\n\nexport const Button = function(props) {\n\n    let Btn = BaseButton;\n    if (props.variant === 'outlined' || props.variant === 'text') {\n        Btn = styled(Btn)`\n            color: ${props => props.color ? Colors[props.color] : Colors.default};\n            border: 1px solid ${props => props.color ? Colors[props.color] : Colors.default};\n            background-color: transparent;\n\n            &:hover {\n                background-color: ${props => props.color ? Colors[props.color+'Light'] : Colors.defaultLight};\n                \n            }\n        `;\n\n        if (props.variant === 'text') {\n            Btn = styled(Btn)`\n                border: none;\n            `;\n        }\n    } else if (props.variant === '') {\n        \n    }\n\n    if (props.size === 'small') {\n        Btn = styled(Btn)`\n            font-size: 0.8125rem;\n            padding: 5px 8px;\n            min-width: 50px;\n        `;\n    }\n\n    return <Btn {...props}>{props.children}</Btn>\n\n}\n\n\n\n\n\n\n\n","import React from 'react';\nimport styled from 'styled-components';\nimport FormRow from '../FormRow';\nimport { Colors } from '../../Variables';\nimport { Label, LabelRow } from '../FormLabel';\n\nconst Select = styled.select`\n    width: ${props => props.width ? props.width : '100%'};\n    color: ${Colors.defaultDark};\n    background: white;\n    padding: 6px 5px 6px 1px;\n    border: none;\n    border-bottom: 1px solid ${Colors.default};\n    outline: none;\n`;\n\n    // constructor(props) {\n    //     super(props);\n    //     // this.state = {\n    //     //     value: '',\n    //     // };\n    // }\n\n    // handleChange = (e) => {\n    //     console.log('handle change');\n    //     // this.props.updateInteractor(e.target.value);\n    // }\n\nconst SelectWithLabel = function(props) {\n    return (\n        <FormRow>\n            <LabelRow>\n                <Label small color={Colors.default}>{props.label}</Label>\n            </LabelRow>\n            <Select  name=\"interactor_type\" value={props.selected} onChange={ (e) => props.handleChange(e) } >\n                { props.items.map(i => <option key={i.type} value={i.type}>{i.label}</option>) }\n            </Select>\n        </FormRow>\n    );\n}\n\nexport { SelectWithLabel };","import React from 'react';\nimport { Card, CardContent, CardActions } from '../Material/Card';\nimport { TextInputWithLabel } from '../Material/Form/Inputs/Text';\nimport { Button } from '../Material/Buttons';\nimport { SelectWithLabel } from '../Material/Form/Inputs/Select';\n\nimport Styles from '../Material/Styles.module.css';\n\n\nclass NodeExpansion extends React.Component {\n\n    interactorTypes = [\n        { type: 'disabled', label: 'Disabled' },\n        { type: 'on_start', label: 'On Start' },\n        { type: 'on_end', label: 'On End'},\n        // { type: 'custom_time', label: 'After x seconds' },\n    ];\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            node: {\n                id: '',\n                title: '',\n                url: '',\n                parent_id: false,\n                interactor: {enabled: false, type: 'custom_time'},\n            },\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.updateNode = this.updateNode.bind(this);\n        this.toggleInteractor = this.toggleInteractor.bind(this);\n        this.changeParent = this.changeParent.bind(this);\n\n    }\n\n    handleChange(e) {\n        e.preventDefault();\n        const value = e.target.value;\n        // console.log(e.target.name);\n        let node = {...this.state.node};\n        if (e.target.name === 'interactor_type') {\n            node.interactor.enabled = value !== 'disabled'; \n            node.interactor.type = value;\n        } else {\n            node[e.target.name] = value;\n        }\n\n        this.setState({node});\n    }\n\n    toggleInteractor() {\n        let node = {...this.state.node};\n        node.interactor.enabled = !node.interactor.enabled;\n        this.setState({node});\n    }\n\n    changeParent(id) {\n        let node = {...this.state.node};\n        node.parent_id = id;\n        this.setState({node});\n    }\n\n    updateNode() {\n        this.props.updateNode(this.state.node);\n    }\n\n    componentDidMount() {\n        this.setState({node: this.props.node});\n    }\n\n    render() {\n        const { node } = this.state;\n        // console.log('node: ', node);\n        return (\n            <Card\n                className={Styles.elevation1}\n                position=\"absolute\"\n                top=\"50%\"\n                left=\"50%\"\n                width=\"300px\"\n                margin=\"-50px 0 0 -125px\"\n                zIndex=\"10\"\n            >\n                <CardContent>\n                    <TextInputWithLabel \n                        label=\"Title\"\n                        name=\"title\" \n                        width=\"75%\"\n                        value={node.title}\n                        onChange={this.handleChange} \n                    />\n                    <TextInputWithLabel\n                        label=\"Video Url\"\n                        name=\"url\"\n                        value={node.url}\n                        spellcheck=\"false\"\n                        onChange={this.handleChange}\n                    />\n                    <SelectWithLabel \n                        label=\"Show Interaction\"\n                        selected={this.state.node.interactor.enabled ? this.state.node.interactor.type : 'disabled'}\n                        items={this.interactorTypes}\n                        handleChange={this.handleChange}\n                        marginBottom=\"0\"\n\n                    />\n                </CardContent>\n                <CardActions>\n                    <Button\n                        variant=\"text\"\n                        size=\"small\"\n                        onClick={ (e) => this.props.closeNodeExpansion(e, 0) }\n                    >\n                        cancel\n                    </Button>\n                    <Button \n                        variant=\"text\" \n                        color=\"primary\" \n                        size=\"small\"\n                        onClick={this.updateNode}\n                    >save</Button>\n                </CardActions>\n            </Card>\n        );\n        return (\n            <span className=\"node-expansion\">\n                <input \n                    onChange={this.handleChange} \n                    name=\"title\" \n                    value={node.title}\n                />\n                <input \n                    onChange={this.handleChange} \n                    name=\"url\" \n                    value={node.url}\n                />\n                <h5>Interactor</h5>\n                <label>Enabled </label>\n                <input type=\"checkbox\" value=\"\" checked={ node.interactor.enabled ? 'checked' : ''} onChange={this.toggleInteractor}/>\n\n                {\n                    node.parent_id > 0 \n                        ?   <>\n                            <label>Move to:</label>\n                            {\n                                \n                                // todo exclude current parent_id and child node ids\n                                this.props.availableParents.map(p => (\n                                    <span \n                                        key={p.id} \n                                        onClick={() => this.changeParent(p.id)}\n                                        style={{padding: '5px'}}>\n                                        {p.title}\n                                    </span>\n                                ))\n                            }\n                            </>\n                        : ''\n                }\n                \n                <button onClick={this.updateNode}>done</button>\n            </span>\n        );\n    }\n\n}\n\nexport default NodeExpansion;","import React from 'react';\nimport './VideoTree.css';\nimport PropTypes from 'prop-types';\n\nimport { buildStructure, flattenStructure } from '../../utils/tree.js';\n\nimport NodeExpansion from './NodeExpansion.js';\n\nclass VideoTree extends React.Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = {\n            expandNode: 0, // node.id default 0\n            nodes: [],\n        };\n\n        this.toggleExpandNode = this.toggleExpandNode.bind(this);\n        this.updateNode = this.updateNode.bind(this);\n        this.availableParents = this.availableParents.bind(this);\n        this.createNode = this.createNode.bind(this);\n        this.deleteNode = this.deleteNode.bind(this);\n\n    }\n\n    toggleExpandNode(e, nodeId) {\n        e.stopPropagation();\n        this.setState({expandNode: nodeId});\n    }\n\n    availableParents(node, tree) {\n        const flattenedNode = flattenStructure(node);\n        const nodeIds = flattenedNode.map(n => n.id);\n        return tree.filter(n => {\n            return nodeIds.indexOf(n.id) === -1  && n.id !== node.parent_id\n        });\n    }\n\n    createNode(e, nodeId) {\n        e.stopPropagation();\n        // e.nativeEvent.stopImmediatePropagation();\n        this.props.createNode(nodeId);\n        \n    }\n\n    deleteNode(e, nodeId) {\n        e.stopPropagation();\n        // e.nativeEvent.stopImmediatePropagation();\n        this.props.deleteNode(nodeId);\n    }\n\n    updateNode(node) {\n        setTimeout(_ => this.setState({expandNode: 0}), 100);\n        this.props.updateNode(node);\n    }\n\n    buildTree(nodes, nodesKey) {\n        return (\n            <ul className=\"tree-unordered-list\">\n            { \n                nodes.map(node => {\n                    let nodeInactiveClass = '';\n                    if (node.parent_id > 0) {\n                        const parent = this.props.nodes.filter(n => {\n                            return n.id === node.parent_id;\n                        });\n\n                        nodeInactiveClass = typeof parent[0] !== 'undefined' && parent[0].interactor.enabled !== true ? 'node-inactive' : '';\n                    }\n                    return (\n                        <li className=\"tree-list-item\" key={'li_'+node.id}>\n                            <span style={{position: 'relative'}}\n                                onClick={(e) => this.toggleExpandNode(e, node.id)} \n                                className={`node-title node-content ${nodeInactiveClass}`}\n                            >\n                                {node.title}\n                                <button onClick={(e) => this.createNode(e, node.id)}>+</button>\n                                <button onClick={(e) => this.deleteNode(e, node.id)}>-</button>\n\n                                {\n                                    this.state.expandNode === node.id \n                                        ?   <NodeExpansion \n                                                node={node} \n                                                availableParents={this.availableParents(node, this.props.nodes)}\n                                                updateNode={this.updateNode} \n                                                closeNodeExpansion={this.toggleExpandNode}\n                                            />\n                                        : ''\n                                }\n                                \n                            </span>\n                            { \n                                typeof node[nodesKey] !== 'undefined' && node[nodesKey].length > 0\n                                    ? this.buildTree(node[nodesKey], nodesKey) \n                                    : '' \n                            }\n                        </li>\n                    );    \n                })\n            }\n            </ul>\n        );\n    }\n\n    componentDidMount() {\n        const nodes = [buildStructure(this.props.nodes)];\n        this.setState({nodes});\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.nodes !== this.props.nodes) {\n            const nodes = [buildStructure(this.props.nodes)];\n            this.setState({nodes});\n        }\n    }\n\n    render() {\n        // e.g. your child nodes might have a different name so you can pass the key as a prop.\n        const nodesKey = this.props.nodesKey ? this.props.nodesKey : 'nodes';\n        return (\n            <div>\n                <div className=\"tree\">\n                    {this.buildTree(this.state.nodes, nodesKey)}\n                </div>\n            </div>\n        );\n    }\n}\n\nVideoTree.propTypes = {\n    nodesKey: PropTypes.string,\n    nodes: PropTypes.array.isRequired,\n    createNode: PropTypes.func.isRequired,\n    updateNode: PropTypes.func.isRequired,\n};\n\nexport default VideoTree;\n\n","import React from 'react';\nimport VideoTree from '../../Components/VideoTree/VideoTree.js';\nimport { generateRandomInt } from '../../utils/utils.js';\nimport BreadCrumbs from '../../Components/BreadCrumbs';\nimport Ajax from '../../utils/ajax';\nimport { isDev } from '../../utils/env';\n\nimport './style.css';\n\nclass Edit extends React.Component {\n  \n    constructor(props) {\n        super(props);\n\n        this.state = {\n            project: {\n                id: 0,\n                title: '',\n                settings: {},\n            },\n            nodes: [], // todo nodes will be child of project\n            random: 0,\n        };\n\n        this.createNode = this.createNode.bind(this);\n        this.updateNode = this.updateNode.bind(this);\n        this.deleteNode = this.deleteNode.bind(this);\n        this.editProjectTitle = this.editProjectTitle.bind(this);\n    }\n\n    createNode(parentId) {\n\n        let node = {\n            id: generateRandomInt(10000000, 90000000), // temp id, server will generate new one\n            parent_id: parentId,\n            title: 'New Node',\n            url: '',\n            interactor: {enabled: false, type: 'on_end'},\n        };\n\n        if (!isDev()) {\n            Ajax.post(`/projects/${this.props.match.params.id}/nodes`, node)\n                .then(res => {\n                    if (typeof res.node !== 'undefined') {\n                        const nodes = this.state.nodes.map(n => {\n                            if (n.id === node.id) {\n                                // replace temp id with server id\n                                n.id = res.node.id;\n                            }\n                            return n;\n                        })\n                        this.setState({nodes});\n                    }\n                })\n                .catch(err => console.error(err));\n        }\n\n        // node['id'] = ; // temp id\n        let nodes = this.state.nodes.map(n => JSON.parse(JSON.stringify(n)));\n        nodes.push(node);\n        this.setState({nodes});\n    }\n\n    updateNode(node) {\n        let nodes = [...this.state.nodes];\n\n        for (let i=0; i < nodes.length; i++) {\n            if (node.id === nodes[i].id) {\n                nodes[i] = node;\n                if (!isDev()) {\n                    Ajax.put(`/projects/${this.props.match.params.id}/nodes/${node.id}`, node)\n                        .catch(err => console.error(err));\n                }\n                this.setState({nodes});\n                return;\n            }\n        }\n    }\n\n    deleteNode(id) {\n        if (!isDev()) {\n            Ajax.delete(`/projects/${this.props.match.params.id}/nodes/${id}`)\n                .catch(err => console.error(err));\n        }\n        let nodes = this.state.nodes.filter(n => n.id !== id);\n        this.setState({nodes});\n    }\n\n    editProjectTitle(newTitle) {\n        let project = {...this.state.project};\n        project.title = newTitle;\n\n        console.log(this.props.match.url);\n        if (!isDev()) {\n            Ajax.put(this.props.match.url, project)\n                .catch(err => console.error(err));\n        }\n        \n        this.setState({project});\n        // TODO save new title to server\n    }\n\n    componentDidMount() {\n        console.log(process.env, process.env.PUBLIC_URL);\n\n        // let project = {...this.state.project};\n        // project.title = 'Test title';\n        // this.setState({project, nodes: projectNodes});\n        let url = `/projects/${this.props.match.params.id}`;\n        if (process.env.NODE_ENV === 'development') {\n            url = `${process.env.PUBLIC_URL}/data/project_1.json`;\n        }\n        Ajax.get(url, [])\n            .then(res => {\n                console.log(res);\n                if (typeof res.project.id !== 'undefined') {\n                    let state = {...this.state};\n                    state.project = res.project;\n                    if (typeof res.project.nodes !== 'undefined') {\n                        state.nodes = res.project.nodes;\n                    }\n                    this.setState(state);    \n                }\n            })\n            .catch(err => console.error(err));\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevState.nodes !== this.state.nodes || prevState.settings !== this.state.settings) {\n            this.setState({random: this.state.random + 1});\n        }\n    }\n\n    render() {\n        const links = [\n            { name: 'projects', path: '/projects'},\n            { name: this.state.project.title, path: `/projects/${this.props.match.params.id}`, edit: this.editProjectTitle},\n        ];\n        return (\n            <div className=\"grid-wrapper\">\n                <div className=\"topnav-area\"></div>\n                <div className=\"sidebar-area\">\n                    <h3>Player settings</h3>\n                        <label>Autoplay</label>\n                        <input type=\"checkbox\" />\n                \n                </div>\n                <div className=\"breadcrumbs-area\" >\n                    <BreadCrumbs links={links}/>\n                    <div style={{clear: 'both', marginBottom: '30px'}}></div>\n                </div>\n                <div className=\"content-area\">\n                { \n                    this.state.nodes.length < 1 \n                        ? ''\n                        :   <VideoTree \n                                nodes={this.state.nodes} \n                                nodesKey='nodes' \n                                createNode={this.createNode}\n                                updateNode={this.updateNode}\n                                deleteNode={this.deleteNode}\n                            />\n                }\n                    <div className=\"player-preview-popup-container\">\n                        {\n                            this.state.project.id !== 0\n                                ?   <div className=\"player-preview-popup-iframe-wrapper\">\n                                        <iframe \n                                            key={this.state.random}\n                                            // TODO check autoplay param in player and disable autoplay\n                                            src={`https://localhost:3000?projectId=${this.state.project.id}&autoplay=false`}\n                                            allow=\"autoplay\" \n                                        />\n                                    </div>\n                                \n                                : 'No project'\n                        }\n                        \n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Edit;\n","export const generateRandomInt = function(min, max) {\n    min = Math.ceil(min);\n    max = Math.ceil(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport List from './List';\nimport Create from './Create';\nimport Edit from './Edit';\n\nfunction Projects({ match }) {\n    return (\n        <>\n            <Switch>\n                <Route exact path={`${match.path}/create`} component={Create} />\n                <Route exact path={`${match.path}/:id`} component={Edit} />\n                <Route exact path={match.path} component={List} />\n            </Switch>\n        </>\n    );\n}\n\nexport default Projects;","import React from 'react';\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\n\nimport Projects from './Pages/Projects';\n\nfunction App() {\n  return (\n      <Router>\n          <>\n            <Route exact path=\"/\" render={() => <Redirect to='/projects' />} />\n            <Route path=\"/projects\" component={Projects} />\n          </>\n      </Router>\n  );\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}