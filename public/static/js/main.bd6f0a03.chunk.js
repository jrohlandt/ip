(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports={elevation1:"Styles_elevation1___jDDn"}},50:function(e,t,n){e.exports=n(80)},55:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(41),i=n.n(o),c=(n(55),n(15)),l=n(16),s=n(6),d=n(7),u=n(10),p=n(8),h=n(1),f=n(9),m=n(4),b=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={editing:!1,name:""},n.toggleEditing=n.toggleEditing.bind(Object(h.a)(n)),n.updateName=n.updateName.bind(Object(h.a)(n)),n.doneEditing=n.doneEditing.bind(Object(h.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"toggleEditing",value:function(){var e=!this.state.editing;this.setState({editing:e})}},{key:"updateName",value:function(e){var t=Object(m.a)({},this.state);t.name=e.target.value,this.setState(t)}},{key:"doneEditing",value:function(){var e=Object(m.a)({},this.state);e.editing=!1,this.props.edit(this.state.name),this.setState(e)}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t,n){if(e.name!==this.props.name){var a=Object(m.a)({},this.state);a.name=this.props.name,this.setState(a)}}},{key:"render",value:function(){var e=this.props,t=e.path,n=e.name;return r.a.createElement(r.a.Fragment,null,this.state.editing&&this.props.edit?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{value:this.state.name,onChange:this.updateName}),r.a.createElement("button",{onClick:this.doneEditing},"done")):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:t,style:{textTransform:"capitalize"}},n),this.props.edit?r.a.createElement("button",{onClick:this.toggleEditing},"edit"):""))}}]),t}(r.a.Component);var v=function(e){return console.log(e),r.a.createElement("ul",null,e.links.map(function(e,t){return r.a.createElement("li",{key:t,style:{float:"left",listStyle:"none",padding:"5px"}},r.a.createElement(b,{path:e.path,name:e.name,edit:e.edit?e.edit:void 0}))}))},g=n(21),j=n.n(g),E=n(44),y=n.n(E),O={get:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.send(e,"get",{},t)},post:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.send(e,"post",t,n)},put:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.send(e,"put",t,n)},delete:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.send(e,"delete",t,n)},send:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n.length>0&&!0===a&&(n=y.a.stringify(n)),new Promise(function(a,r){j.a.defaults.headers["X-Requested-With"]="XMLHttpRequest";var o=document.querySelector('meta[name="csrf-token"]').getAttribute("content");o&&(j.a.defaults.headers["CSRF-Token"]=o),j.a.defaults.withCredentials=!0,j.a[t.toLowerCase()](e,n).then(function(e){return a(e.data)}).catch(function(e){if(e.response){var t=e.response.status;if(401===t||403===t||419===t)return console.log("Ajax error: ",e),void(window.location.href="/login");r(422===t?{validationErrors:e.response.data.errors}:e.response.data)}else e.request?console.log(e.request):console.log("Error",e.message);console.log(e.config)})})}},x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={redirectToCreate:!1,projects:[]},n.redirectToCreate=n.redirectToCreate.bind(Object(h.a)(n)),n.deleteProject=n.deleteProject.bind(Object(h.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"redirectToCreate",value:function(){this.setState({redirectToCreate:!0})}},{key:"deleteProject",value:function(e){O.delete("".concat(this.props.match.url,"/").concat(e)).catch(function(e){return console.error(e)}),this.setState({projects:this.state.projects.filter(function(t){return t.id!==e})})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.path;O.get(t).then(function(t){console.log(t),void 0!==typeof t.projects&&e.setState({projects:t.projects})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this,t=this.props.match;return r.a.createElement("div",{className:"grid-wrapper"},r.a.createElement("div",{className:"topnav-area"}),r.a.createElement("div",{className:"sidebar-area"},r.a.createElement("ul",null,r.a.createElement("li",null,"item 1"),r.a.createElement("li",null,"item 1"),r.a.createElement("li",null,"item 1"),r.a.createElement("li",null,"item 1"))),r.a.createElement("div",{className:"breadcrumbs-area"},r.a.createElement(v,{links:[{name:"projects",path:"/projects"}]})),r.a.createElement("div",{className:"content-area"},r.a.createElement("button",{onClick:this.redirectToCreate},"New Project"),this.state.redirectToCreate?r.a.createElement(l.a,{to:"".concat(t.path,"/create")}):"",r.a.createElement("ul",{style:{clear:"both"}},this.state.projects.map(function(n){return r.a.createElement("li",{key:n.id},r.a.createElement(c.b,{to:"".concat(t.url,"/").concat(n.id)},n.title),r.a.createElement("button",{onClick:function(){return e.deleteProject(n.id)}},"delete"))}))))}}]),t}(r.a.Component),k=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={id:0,title:"",redirectToEdit:!1},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.createProject=n.createProject.bind(Object(h.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=Object(m.a)({},this.state);t.title=e.target.value,this.setState(t)}},{key:"createProject",value:function(){var e=this;O.post("/projects",{title:this.state.title}).then(function(t){if(console.log(t),"undefined"!==typeof t.project.id){var n=Object(m.a)({},e.state);n.id=t.project.id,n.redirectToEdit=!0,e.setState(n)}}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{links:[{name:"projects",path:"/projects"},{name:"create",path:"/projects/create"}]}),r.a.createElement("div",null,r.a.createElement("input",{onChange:this.handleChange,type:"text",value:this.state.title}),r.a.createElement("button",{onClick:this.createProject},"Create")),this.state.redirectToEdit?r.a.createElement(l.a,{to:"/projects/".concat(this.state.id)}):"")}}]),t}(r.a.Component),N=n(47);n(78);var w=function(e){var t=function(e){for(var t=0;t<e.length;t++){var n=Object(m.a)({},e[t]);if(0===n.parent_id)return n.nodes=[],n}return{}}(e);return 0===t.length?t:(t.nodes=function e(t,n){for(var a=[],r=0;r<n.length;r++){var o=Object(m.a)({},n[r]);o.parent_id===t&&(o.nodes=e(o.id,n),a.push(o))}return a.sort(function(e,t){return e.id-t.id}),a}(t.id,e),t)},C=n(2),S=n(17),P=n.n(S),T=n(3),D={defaultLight:"rgba(185, 185, 185, 0.2)",default:"#969696",defaultDarker:"#787777",defaultDark:"#383838",primaryLight:"rgba(25, 118, 210, 0.1)",primary:"rgb(25, 118, 210)",primaryDarker:"#125aa1",secondary:"pink"};function _(){var e=Object(C.a)(["\n    display: flex;\n    width: 100%;\n    padding: ",";\n"]);return _=function(){return e},e}function M(){var e=Object(C.a)(["\n    width: 100%;\n    padding: ",";\n"]);return M=function(){return e},e}function z(){var e=Object(C.a)(["\n    ","\n    ","\n    ","\n    ","\n    ","\n    display: flex;\n    flex-direction: column;\n    width: ",";\n    height: auto;\n    background: white;\n    border: none;\n    border-radius: 4px;\n    margin: ",";\n    ","\n    @media (min-width: 768px) {\n        width: 400px;\n    }\n"]);return z=function(){return e},e}var B=T.a.div(z(),function(e){return e.position?"position: ".concat(e.position):""},function(e){return e.top?"top: ".concat(e.top):""},function(e){return e.bottom?"bottom: ".concat(e.bottom):""},function(e){return e.left?"left: ".concat(e.left):""},function(e){return e.right?"right: ".concat(e.right):""},function(e){return e.width?e.width:"250px"},function(e){return e.margin?e.margin:"auto"},function(e){return e.zIndex?"z-index: ".concat(e.zIndex):""}),L=T.a.div(M(),function(e){return e.padding?e.padding:"1rem"}),F=T.a.div(_(),function(e){return e.padding?e.padding:"0.5rem"});function I(){var e=Object(C.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin-top: 0;\n    margin-right: 0;\n    margin-bottom: ",";\n    margin-left: 0;\n"]);return I=function(){return e},e}var R=T.a.div(I(),function(e){return e.marginBottom?e.marginBottom:"15px"});function q(){var e=Object(C.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: flex-start;\n"]);return q=function(){return e},e}function U(){var e=Object(C.a)(["\n    color: ",";\n    font-size: ",";\n    letter-spacing: 0.033rem;\n    text-transform: capitalize;\n"]);return U=function(){return e},e}var W=T.a.label(U(),function(e){return e.color?e.color:"inherit"},function(e){return e.small?"0.75rem":"1rem"}),A=T.a.div(q());function J(){var e=Object(C.a)(["\n    width: ",";\n    color: ",";\n    padding: 6px 5px 6px 1px;\n    border: none;\n    border-bottom: 1px solid ",";\n    outline: none;\n"]);return J=function(){return e},e}var K=T.a.input(J(),function(e){return e.width?e.width:"100%"},D.defaultDark,D.default),X=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).defaultColor=D.default,n.defaultBorderStyle="1px solid ".concat(D.default),n.activeColor=D.primary,n.state={labelColor:n.defaultColor,borderStyle:n.defaultBorderStyle,showLabel:!1},n.handleFocus=n.handleFocus.bind(Object(h.a)(n)),n.handleBlur=n.handleBlur.bind(Object(h.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleFocus",value:function(){var e=Object(m.a)({},this.state);e.labelColor=this.activeColor,e.borderStyle="2px solid ".concat(this.activeColor),e.showLabel=!0,this.setState(e)}},{key:"handleBlur",value:function(){var e=Object(m.a)({},this.state);e.labelColor=this.defaultColor,e.borderStyle=this.defaultBorderStyle,e.showLabel=!1,this.setState(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.name,a=t.value,o=t.label,i=this.state.showLabel?"":o;return r.a.createElement(R,{marginBottom:this.props.marginBottom},a||this.state.showLabel?r.a.createElement(A,null,r.a.createElement(W,{small:!0,color:this.state.labelColor},o)):"",r.a.createElement(K,{type:"text",name:n,value:a,placeholder:i,spellcheck:function(){return e.props.spellcheck?e.props.spellcheck:"true"},width:this.props.width,style:{borderBottom:this.state.borderStyle},onChange:this.props.onChange,onFocus:this.handleFocus,onBlur:this.handleBlur}))}}]),t}(r.a.Component);function H(){var e=Object(C.a)(["\n            font-size: 0.8125rem;\n            padding: 5px 8px;\n            min-width: 50px;\n        "]);return H=function(){return e},e}function V(){var e=Object(C.a)(["\n                border: none;\n            "]);return V=function(){return e},e}function Y(){var e=Object(C.a)(["\n            color: ",";\n            border: 1px solid ",";\n            background-color: transparent;\n\n            &:hover {\n                background-color: ",";\n                \n            }\n        "]);return Y=function(){return e},e}function $(){var e=Object(C.a)(["\n    min-width: 64px;\n    box-sizing: border-box;\n    font-size: 0.875rem;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 0.05rem;\n    color: ",";\n    transition: color 0.5s ease;\n    background-color: ",";\n    transition: background-color 0.5s ease;\n    padding: 10px;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    outline: none;\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return $=function(){return e},e}var G=T.a.button($(),function(e){return e.color?"#fff":"rgba(0, 0, 0, .85)"},function(e){return e.color?D[e.color]:D.default},D.primaryDarker),Q=function(e){var t=G;return"outlined"===e.variant||"text"===e.variant?(t=Object(T.a)(t)(Y(),function(e){return e.color?D[e.color]:D.default},function(e){return e.color?D[e.color]:D.default},function(e){return e.color?D[e.color+"Light"]:D.defaultLight}),"text"===e.variant&&(t=Object(T.a)(t)(V()))):e.variant,"small"===e.size&&(t=Object(T.a)(t)(H())),r.a.createElement(t,e,e.children)};function Z(){var e=Object(C.a)(["\n    width: ",";\n    color: ",";\n    background: white;\n    padding: 6px 5px 6px 1px;\n    border: none;\n    border-bottom: 1px solid ",";\n    outline: none;\n"]);return Z=function(){return e},e}var ee=T.a.select(Z(),function(e){return e.width?e.width:"100%"},D.defaultDark,D.default),te=function(e){return r.a.createElement(R,null,r.a.createElement(A,null,r.a.createElement(W,{small:!0,color:D.default},e.label)),r.a.createElement(ee,{name:"interactor_type",value:e.selected,onChange:function(t){return e.handleChange(t)}},e.items.map(function(e){return r.a.createElement("option",{key:e.type,value:e.type},e.label)})))},ne=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).interactorTypes=[{type:"disabled",label:"Disabled"},{type:"on_start",label:"On Start"},{type:"on_end",label:"On End"}],n.state={node:{id:"",title:"",url:"",parent_id:!1,interactor:{enabled:!1,type:"custom_time"}}},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.updateNode=n.updateNode.bind(Object(h.a)(n)),n.toggleInteractor=n.toggleInteractor.bind(Object(h.a)(n)),n.changeParent=n.changeParent.bind(Object(h.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var t=e.target.value,n=Object(m.a)({},this.state.node);"interactor_type"===e.target.name?(n.interactor.enabled="disabled"!==t,n.interactor.type=t):n[e.target.name]=t,this.setState({node:n})}},{key:"toggleInteractor",value:function(){var e=Object(m.a)({},this.state.node);e.interactor.enabled=!e.interactor.enabled,this.setState({node:e})}},{key:"changeParent",value:function(e){var t=Object(m.a)({},this.state.node);t.parent_id=e,this.setState({node:t})}},{key:"updateNode",value:function(){this.props.updateNode(this.state.node)}},{key:"componentDidMount",value:function(){this.setState({node:this.props.node})}},{key:"render",value:function(){var e=this,t=this.state.node;return r.a.createElement(B,{className:P.a.elevation1,position:"absolute",top:"50%",left:"50%",width:"300px",margin:"-50px 0 0 -125px",zIndex:"10"},r.a.createElement(L,null,r.a.createElement(X,{label:"Title",name:"title",width:"75%",value:t.title,onChange:this.handleChange}),r.a.createElement(X,{label:"Video Url",name:"url",value:t.url,spellcheck:"false",onChange:this.handleChange}),r.a.createElement(te,{label:"Show Interaction",selected:this.state.node.interactor.enabled?this.state.node.interactor.type:"disabled",items:this.interactorTypes,handleChange:this.handleChange,marginBottom:"0"})),r.a.createElement(F,null,r.a.createElement(Q,{variant:"text",size:"small",onClick:function(t){return e.props.closeNodeExpansion(t,0)}},"cancel"),r.a.createElement(Q,{variant:"text",color:"primary",size:"small",onClick:this.updateNode},"save")))}}]),t}(r.a.Component);function ae(){var e=Object(C.a)(["\n                border: none;\n            "]);return ae=function(){return e},e}function re(){var e=Object(C.a)(["\n            color: ",";\n            border: 1px solid ",";\n            background-color: transparent;\n\n            &:hover {\n                background-color: ",";\n                \n            }\n        "]);return re=function(){return e},e}function oe(){var e=Object(C.a)(["\n    position: relative;\n    width: 30px;\n    height: 30px;\n    box-sizing: border-box;\n    // font-size: 0.875rem;\n    // font-weight: 700;\n    // text-transform: uppercase;\n    // letter-spacing: 0.05rem;\n    color: ",";\n    transition: color 0.5s ease;\n    background-color: ",";\n    transition: background-color 0.5s ease;\n    padding: 0;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    outline: none;\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return oe=function(){return e},e}var ie=T.a.button(oe(),function(e){return e.color?"#fff":"rgba(0, 0, 0, .85)"},function(e){return e.color?D[e.color]:D.default},D.primaryDarker),ce=function(e){var t=ie;return"outlined"===e.variant||"text"===e.variant?(t=Object(T.a)(t)(re(),function(e){return e.color?D[e.color]:D.default},function(e){return e.color?D[e.color]:D.default},function(e){return e.color?D[e.color+"Light"]:D.defaultLight}),"text"===e.variant&&(t=Object(T.a)(t)(ae()))):e.variant,r.a.createElement(t,e,e.children)},le=n(22);function se(){var e=Object(C.a)(["\n\n"]);return se=function(){return e},e}function de(){var e=Object(C.a)(["\n\n"]);return de=function(){return e},e}function ue(){var e=Object(C.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    list-style: none;\n    font-weight: bold;\n    padding: 10px 15px;\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return ue=function(){return e},e}function pe(){var e=Object(C.a)(["\n\n"]);return pe=function(){return e},e}function he(){var e=Object(C.a)(["\n    position: absolute;\n    width: 120px;\n    background: #fff;\n    padding: 10px 0;\n    border: none;\n    border-radius: 4px;\n    z-index: 10;\n"]);return he=function(){return e},e}var fe=T.a.div(he()),me=T.a.ul(pe()),be=T.a.li(ue(),D.defaultLight),ve=T.a.span(de()),ge=T.a.span(se()),je=function(e){return r.a.createElement(fe,{className:P.a.elevation1},r.a.createElement(me,null,e.children))},Ee=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).scrollRef=null,n.state={expandNodeMenu:0,expandNode:0,nodes:[]},n.toggleExpandNodeMenu=n.toggleExpandNodeMenu.bind(Object(h.a)(n)),n.toggleExpandNode=n.toggleExpandNode.bind(Object(h.a)(n)),n.updateNode=n.updateNode.bind(Object(h.a)(n)),n.availableParents=n.availableParents.bind(Object(h.a)(n)),n.createNode=n.createNode.bind(Object(h.a)(n)),n.deleteNode=n.deleteNode.bind(Object(h.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"toggleExpandNodeMenu",value:function(e,t){e.stopPropagation();var n=t===this.state.expandNodeMenu?0:t;this.setState({expandNodeMenu:n})}},{key:"toggleExpandNode",value:function(e,t){var n=this;setTimeout(function(e){return n.setState({expandNodeMenu:0})},100),e.stopPropagation(),this.setState({expandNode:t})}},{key:"availableParents",value:function(e,t){var n=function e(t){var n=[],a={id:t.id,parent_id:t.parent_id,title:t.title,url:t.url};if(n.push(a),"undefined"!==typeof t.nodes&&t.nodes.length>0)for(var r=0;r<t.nodes.length;r++)for(var o=e(t.nodes[r]),i=0;i<o.length;i++)n.push(o[i]);return n=n.sort(function(e,t){return e.id-t.id})}(e).map(function(e){return e.id});return t.filter(function(t){return-1===n.indexOf(t.id)&&t.id!==e.parent_id})}},{key:"createNode",value:function(e,t){var n=this;setTimeout(function(e){return n.setState({expandNodeMenu:0})},100),e.stopPropagation(),this.props.createNode(t)}},{key:"deleteNode",value:function(e,t){var n=this;setTimeout(function(e){return n.setState({expandNodeMenu:0})},100),e.stopPropagation(),this.props.deleteNode(t)}},{key:"updateNode",value:function(e){var t=this;setTimeout(function(e){return t.setState({expandNodeMenu:0,expandNode:0})},100),this.props.updateNode(e)}},{key:"buildTree",value:function(e,t){var n=this;return r.a.createElement("ul",{className:"tree-unordered-list"},e.map(function(e){var a="";if(e.parent_id>0){var o=n.props.nodes.filter(function(t){return t.id===e.parent_id});a="undefined"!==typeof o[0]&&!0!==o[0].interactor.enabled?"node-inactive":""}return r.a.createElement("li",{className:"tree-list-item",key:"li_"+e.id},r.a.createElement("span",{style:{position:"relative",paddingRight:"5px"},className:"node-title node-content ".concat(a," ").concat(P.a.elevation1)},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{style:{height:"30px",lineHeight:"30px",marginRight:"10px"}},e.title),r.a.createElement("div",null,r.a.createElement(ce,{variant:"text",onClick:function(t){return n.toggleExpandNodeMenu(t,e.id)}},r.a.createElement(le.d,{size:"1rem"})),n.state.expandNodeMenu===e.id?r.a.createElement(je,null,r.a.createElement(be,{onClick:function(t){return n.createNode(t,e.id)}},r.a.createElement(ve,null,"ADD NODE"),r.a.createElement(ge,null,r.a.createElement(le.a,{size:"1rem"}))),r.a.createElement(be,{onClick:function(t){return n.toggleExpandNode(t,e.id)}},r.a.createElement(ve,null,"EDIT"),r.a.createElement(ge,null,r.a.createElement(le.c,{size:"1rem"}))),r.a.createElement(be,{onClick:function(t){return n.deleteNode(t,e.id)}},r.a.createElement(ve,null,"DELETE"),r.a.createElement(ge,null,r.a.createElement(le.b,{size:"1rem"})))):"")),n.state.expandNode===e.id?r.a.createElement(ne,{node:e,availableParents:n.availableParents(e,n.props.nodes),updateNode:n.updateNode,closeNodeExpansion:n.toggleExpandNode}):""),"undefined"!==typeof e[t]&&e[t].length>0?n.buildTree(e[t],t):"")}))}},{key:"componentDidMount",value:function(){this.scrollRef.scrollLeft=(this.scrollRef.querySelector(".tree").offsetWidth-this.scrollRef.offsetWidth)/2;var e=[w(this.props.nodes)];this.setState({nodes:e})}},{key:"componentDidUpdate",value:function(e,t,n){if(e.nodes!==this.props.nodes){var a=[w(this.props.nodes)];this.setState({nodes:a})}}},{key:"render",value:function(){var e=this,t=this.props.nodesKey?this.props.nodesKey:"nodes";return r.a.createElement("div",{className:"tree-scroller",style:{height:"100%",overflowX:"scroll",overflowY:"scroll"},ref:function(t){return e.scrollRef=t}},r.a.createElement("div",{className:"tree",style:{width:"5000px",height:"100%"}},this.buildTree(this.state.nodes,t)))}}]),t}(r.a.Component),ye=(n(79),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={project:{id:0,title:"",settings:{}},nodes:[],random:0},n.createNode=n.createNode.bind(Object(h.a)(n)),n.updateNode=n.updateNode.bind(Object(h.a)(n)),n.deleteNode=n.deleteNode.bind(Object(h.a)(n)),n.editProjectTitle=n.editProjectTitle.bind(Object(h.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"createNode",value:function(e){var t,n,a=this,r={id:(t=1e7,n=9e7,t=Math.ceil(t),n=Math.ceil(n),Math.floor(Math.random()*(n-t))+t),parent_id:e,title:"New Node",url:"",interactor:{enabled:!0,type:"on_end"}};O.post("/projects/".concat(this.props.match.params.id,"/nodes"),r).then(function(e){if("undefined"!==typeof e.node){var t=a.state.nodes.map(function(t){return t.id===r.id&&(t.id=e.node.id),t});a.setState({nodes:t})}}).catch(function(e){return console.error(e)});var o=this.state.nodes.map(function(e){return JSON.parse(JSON.stringify(e))});o.push(r),this.setState({nodes:o})}},{key:"updateNode",value:function(e){for(var t=Object(N.a)(this.state.nodes),n=0;n<t.length;n++)if(e.id===t[n].id)return t[n]=e,O.put("/projects/".concat(this.props.match.params.id,"/nodes/").concat(e.id),e).catch(function(e){return console.error(e)}),void this.setState({nodes:t})}},{key:"deleteNode",value:function(e){O.delete("/projects/".concat(this.props.match.params.id,"/nodes/").concat(e)).catch(function(e){return console.error(e)});var t=this.state.nodes.filter(function(t){return t.id!==e});this.setState({nodes:t})}},{key:"editProjectTitle",value:function(e){var t=Object(m.a)({},this.state.project);t.title=e,console.log(this.props.match.url),O.put(this.props.match.url,t).catch(function(e){return console.error(e)}),this.setState({project:t})}},{key:"componentDidMount",value:function(){var e=this;console.log(Object({NODE_ENV:"production",PUBLIC_URL:""}),"");var t="/projects/".concat(this.props.match.params.id);O.get(t,[]).then(function(t){if(console.log(t),"undefined"!==typeof t.project.id){var n=Object(m.a)({},e.state);n.project=t.project,"undefined"!==typeof t.project.nodes&&(n.nodes=t.project.nodes),e.setState(n)}}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(e,t,n){t.nodes===this.state.nodes&&t.settings===this.state.settings||this.setState({random:this.state.random+1})}},{key:"render",value:function(){var e=[{name:"projects",path:"/projects"},{name:this.state.project.title,path:"/projects/".concat(this.props.match.params.id),edit:this.editProjectTitle}];return r.a.createElement("div",{className:"grid-wrapper"},r.a.createElement("div",{className:"topnav-area"}),r.a.createElement("div",{className:"sidebar-area"},r.a.createElement("h3",null,"Player settings"),r.a.createElement("label",null,"Autoplay"),r.a.createElement("input",{type:"checkbox"})),r.a.createElement("div",{className:"breadcrumbs-area"},r.a.createElement(v,{links:e}),r.a.createElement("div",{style:{clear:"both",marginBottom:"30px"}})),r.a.createElement("div",{className:"content-area"},this.state.nodes.length<1?"":r.a.createElement(Ee,{nodes:this.state.nodes,nodesKey:"nodes",createNode:this.createNode,updateNode:this.updateNode,deleteNode:this.deleteNode}),r.a.createElement("div",{className:"player-preview-popup-container"},0!==this.state.project.id?r.a.createElement("div",{className:"player-preview-popup-iframe-wrapper"},r.a.createElement("iframe",{key:this.state.random,src:"https://localhost:3000?projectId=".concat(this.state.project.id,"&autoplay=false"),allow:"autoplay"})):"No project")))}}]),t}(r.a.Component));var Oe=function(e){var t=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"".concat(t.path,"/create"),component:k}),r.a.createElement(l.b,{exact:!0,path:"".concat(t.path,"/:id"),component:ye}),r.a.createElement(l.b,{exact:!0,path:t.path,component:x})))};var xe=function(){return r.a.createElement(c.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{exact:!0,path:"/",render:function(){return r.a.createElement(l.a,{to:"/projects"})}}),r.a.createElement(l.b,{path:"/projects",component:Oe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[50,1,2]]]);
//# sourceMappingURL=main.bd6f0a03.chunk.js.map